query oTokenStats(
  $token: String!
  $chainId: Int!
  $limit: Int
  $orderBy: [OTokenDailyStatOrderByInput!] = [timestamp_DESC]
  $from: DateTime
) {
  oTokenDailyStats(
    limit: $limit
    orderBy: $orderBy
    where: {
      otoken_containsInsensitive: $token
      chainId_eq: $chainId
      timestamp_gte: $from
    }
  ) {
    id
    timestamp
    totalSupply
    apy
    apy7
    apy14
    apy30
    rateETH
    rateUSD
    rebasingSupply
    nonRebasingSupply
    wrappedSupply
    amoSupply
    yield
    fees
  }
}

query oTokenStatsConnection(
  $token: String!
  $chainId: Int!
  $orderBy: [OTokenDailyStatOrderByInput!] = [timestamp_DESC]
  $first: Int
  $after: String
) {
  oTokenDailyStatsConnection(
    orderBy: $orderBy
    where: { otoken_containsInsensitive: $token, chainId_eq: $chainId }
    first: $first
    after: $after
  ) {
    edges {
      node {
        id
        timestamp
        rebasingSupply
        yield
        fees
        apy
      }
    }
    totalCount
  }
}
